// ELMS ERD
digraph {
	fontsize=10 rankdir=LR
	Users [label="{Users|user_id PK\l}" shape=record]
	ParentProfile [label="{ParentProfile|user_id PK\lFK Users\l}" shape=record]
	StudentProfile [label="{StudentProfile|user_id PK\lFK Users\lparent_id FK ParentProfile\l}" shape=record]
	InstructorProfile [label="{InstructorProfile|user_id PK\lFK Users\l}" shape=record]
	ManagerProfile [label="{ManagerProfile|user_id PK\lFK Users\l}" shape=record]
	PasswordResetTokens [label="{PasswordResetTokens|reset_id PK\lFK Users\l}" shape=record]
	OAuthAccounts [label="{OAuthAccounts|oauth_id PK\lFK Users\l}" shape=record]
	Categories [label="{Categories|category_id PK\l}" shape=record]
	Course [label="{Course|course_id PK\lFK InstructorProfile\lFK Categories\l}" shape=record]
	CourseInstructors [label="{CourseInstructors|FK Course\lFK InstructorProfile\l}" shape=record]
	CourseManagers [label="{CourseManagers|FK Course\lFK ManagerProfile\l}" shape=record]
	Enrollments [label="{Enrollments|enrollment_id PK\lFK Course\lFK StudentProfile\l}" shape=record]
	Modules [label="{Modules|module_id PK\lFK Course\l}" shape=record]
	Lessons [label="{Lessons|lesson_id PK\lFK Modules\l}" shape=record]
	MediaAssets [label="{MediaAssets|asset_id PK\lFK Lessons\l}" shape=record]
	MediaProgress [label="{MediaProgress|FK MediaAssets\lFK StudentProfile\l}" shape=record]
	Quizzes [label="{Quizzes|quiz_id PK\lFK Course\l}" shape=record]
	Questions [label="{Questions|question_id PK\l}" shape=record]
	QuestionOptions [label="{QuestionOptions|option_id PK\lFK Questions\l}" shape=record]
	QuizQuestions [label="{QuizQuestions|FK Quizzes\lFK Questions\l}" shape=record]
	StudentQuizAttempts [label="{StudentQuizAttempts|attempt_id PK\lFK StudentProfile\lFK Quizzes\l}" shape=record]
	AttemptAnswers [label="{AttemptAnswers|FK StudentQuizAttempts\lFK Questions\l}" shape=record]
	Assignments [label="{Assignments|assignment_id PK\lFK Course\l}" shape=record]
	Submissions [label="{Submissions|submission_id PK\lFK Assignments\lFK StudentProfile\l}" shape=record]
	FlashcardSets [label="{FlashcardSets|set_id PK\lFK StudentProfile\l}" shape=record]
	Flashcards [label="{Flashcards|card_id PK\lFK FlashcardSets\l}" shape=record]
	DiscussionThreads [label="{DiscussionThreads|thread_id PK\lFK Course\lFK Users\l}" shape=record]
	Posts [label="{Posts|post_id PK\lFK DiscussionThreads\lFK Users\l}" shape=record]
	Reviews [label="{Reviews|review_id PK\lFK Course\lFK StudentProfile\l}" shape=record]
	PurchaseRequests [label="{PurchaseRequests|request_id PK\lFK StudentProfile\lFK ParentProfile\lFK Course\l}" shape=record]
	Payments [label="{Payments|payment_id PK\lFK ParentProfile\lFK StudentProfile\lFK Course\l}" shape=record]
	Orders [label="{Orders|order_id PK\lFK ParentProfile\l}" shape=record]
	OrderItems [label="{OrderItems|order_item_id PK\lFK Orders\lFK PurchaseRequests\lFK Course\lFK StudentProfile\l}" shape=record]
	ParentProfile -> Users [arrowhead=normal]
	StudentProfile -> Users [arrowhead=normal]
	StudentProfile -> ParentProfile [arrowhead=normal]
	InstructorProfile -> Users [arrowhead=normal]
	ManagerProfile -> Users [arrowhead=normal]
	PasswordResetTokens -> Users [arrowhead=normal]
	OAuthAccounts -> Users [arrowhead=normal]
	Course -> InstructorProfile [arrowhead=normal]
	Course -> Categories [arrowhead=normal]
	CourseInstructors -> Course [arrowhead=normal]
	CourseInstructors -> InstructorProfile [arrowhead=normal]
	CourseManagers -> Course [arrowhead=normal]
	CourseManagers -> ManagerProfile [arrowhead=normal]
	Enrollments -> Course [arrowhead=normal]
	Enrollments -> StudentProfile [arrowhead=normal]
	Modules -> Course [arrowhead=normal]
	Lessons -> Modules [arrowhead=normal]
	MediaAssets -> Lessons [arrowhead=normal]
	MediaProgress -> MediaAssets [arrowhead=normal]
	MediaProgress -> StudentProfile [arrowhead=normal]
	Quizzes -> Course [arrowhead=normal]
	QuestionOptions -> Questions [arrowhead=normal]
	QuizQuestions -> Quizzes [arrowhead=normal]
	QuizQuestions -> Questions [arrowhead=normal]
	StudentQuizAttempts -> StudentProfile [arrowhead=normal]
	StudentQuizAttempts -> Quizzes [arrowhead=normal]
	AttemptAnswers -> StudentQuizAttempts [arrowhead=normal]
	AttemptAnswers -> Questions [arrowhead=normal]
	Assignments -> Course [arrowhead=normal]
	Submissions -> Assignments [arrowhead=normal]
	Submissions -> StudentProfile [arrowhead=normal]
	FlashcardSets -> StudentProfile [arrowhead=normal]
	Flashcards -> FlashcardSets [arrowhead=normal]
	DiscussionThreads -> Course [arrowhead=normal]
	DiscussionThreads -> Users [arrowhead=normal]
	Posts -> DiscussionThreads [arrowhead=normal]
	Posts -> Users [arrowhead=normal]
	Reviews -> Course [arrowhead=normal]
	Reviews -> StudentProfile [arrowhead=normal]
	PurchaseRequests -> StudentProfile [arrowhead=normal]
	PurchaseRequests -> ParentProfile [arrowhead=normal]
	PurchaseRequests -> Course [arrowhead=normal]
	Payments -> ParentProfile [arrowhead=normal]
	Payments -> StudentProfile [arrowhead=normal]
	Payments -> Course [arrowhead=normal]
	Orders -> ParentProfile [arrowhead=normal]
	OrderItems -> Orders [arrowhead=normal]
	OrderItems -> PurchaseRequests [arrowhead=normal]
	OrderItems -> Course [arrowhead=normal]
	OrderItems -> StudentProfile [arrowhead=normal]
}
